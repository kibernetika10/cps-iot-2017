<!doctype html>
<meta charset=utf8>
<html>
    <head>
        <title>Example with HW button</title>
        </head>
        
        <body>
            <div id ="print1"></div></div>
            
            <script type="text/javascript" src="socket.io/socket.io.js"></script>
            <script type="text/javascript">
            
            "use strict";
            
            var divPrint1; 
            class LogDiv {
                constructor(divId, numberOfLinesBeforeScroll) {
                    this.divElement = document.getElementById(divId); // name of div where values will be printed
                    this.numberOfLinesBeforeScroll = numberOfLinesBeforeScroll; // number of lines which print before scroll
                    this.linesPrintCounter = 0;
                }
            
                log(msg) { // function for printout of the messages with scroll functionality
                    var node=document.createElement("tr"); // we create the variable node as the a table row (tr)
                    var textnode=document.createTextNode(this.linesPrintCounter + " | " + msg); // we create element with the text adding the counter
                    node.appendChild(textnode); // adding text to "node", i.e. table row
                    this.divElement.insertBefore(node, this.divElement.childNodes[0]); // inserting into variable node
                    if (this.linesPrintCounter > this.numberOfLinesBeforeScroll-1) { // if the lines are more than limit -> start with scroll
                        this.divElement.removeChild(this.divElement.childNodes[this.numberOfLinesBeforeScroll]); // we remove the oldest printout
                    }
                    this.linesPrintCounter++; // increasing the number of printouts
                }
            }
            
            divPrint1 = new LogDiv("print1", 10);
            
            divPrint1.log(msg);
        
             var divElement=document.getElementById("print1");

             var socket = io.connect("172.16.22.142:8080"); 
             
             function log(msg) {
                divElement.innerHTML += "<div>" + msg + "</div>"; // we print it to div
            }
            
            socket.on("messageToClient", function (msg){
                log(msg); // add msg
            });
            /*socket.on("disconnect", function(){
                log("Disconnected from the server"); // we print status of disconn. to div
            });*/
           
            
        </script>
        </body>
        </html>
        